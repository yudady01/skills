# DTG UI & i18n Skill ä½¿ç”¨è¯´æ˜

## æ¦‚è¿°
`dtg-ui` æ˜¯ä¸€ä¸ªä¸“é—¨ä¸º `dtg-pay` é¡¹ç›®å®šåˆ¶çš„ AI å¼€å‘åŠ©æ‰‹æŠ€èƒ½ã€‚å®ƒç»“åˆäº†é¡¹ç›®ç‰¹æœ‰çš„ Layui UI è§„èŒƒä¸å¤šçš®è‚¤å›½é™…åŒ– (i18n) å¤„ç†æµç¨‹ã€‚

## é€‚ç”¨æ¨¡å—

| æ¨¡å— | è·¯å¾„ | å›½é™…åŒ– |
|------|------|--------|
| **xxpay-manage** | `/xxpay-manage/.../x_mgr/` | âœ… éœ€è¦ |
| **xxpay-merchant** | `/xxpay-merchant/.../[skin]/x_mch/` | âœ… éœ€è¦ |
| **xxpay-agent** | `/xxpay-agent/.../[skin]/x_agent/` | âŒ ä¸éœ€è¦ |

## æ ¸å¿ƒåŠŸèƒ½

### 1. UI æ ‡å‡†åŒ–
- **Layui æ·±åº¦é€‚é…**ï¼šè‡ªåŠ¨å¤„ç† `layui-fluid`, `layui-card`, `layui-tab` çš„æ ‡å‡†åµŒå¥—
- **æ ·å¼ä¿®æ­£è‡ªåŠ¨æ³¨å…¥**ï¼šé’ˆå¯¹ `layui-form-pane` æ¨¡å¼ä¸‹æ ‡ç­¾å®½åº¦é—®é¢˜ï¼Œè‡ªåŠ¨æä¾› CSS ä¿®å¤
- **å¸ƒå±€æ¨¡æ¿**ï¼šåˆ—è¡¨é¡µã€æ–°å¢é¡µã€æŸ¥çœ‹é¡µçš„å®Œæ•´éª¨æ¶æ¨¡æ¿

### 2. i18n è‡ªåŠ¨åŒ–æµç¨‹
> âš ï¸ **å¼ºåˆ¶è¦æ±‚**ï¼šå¤„ç†å›½é™…åŒ–æ—¶ï¼Œ**å¿…é¡»åŒæ—¶æ›´æ–°ç¿»è¯‘æ–‡ä»¶**

- **æå–ä¸åŒæ­¥**ï¼šè‡ªåŠ¨ä» HTML çš„ `i18ndata` å’Œ JS çš„ `translateMessageByPath` ä¸­æå–ç¿»è¯‘é”®
- **ç¿»è¯‘æ–‡ä»¶è·¯å¾„**ï¼š
  - `xxpay-manage`: `.../x_mgr/start/json/language/{zh,en}/`
  - `xxpay-merchant`: `.../[skin]/x_mch/start/json/language/{zh,en}/` (ezpay/724pay/lupay)
- **å¤šçš®è‚¤ä¸€è‡´æ€§**ï¼šä¸€é”®åŒæ­¥æ›´æ–°æ‰€æœ‰çš®è‚¤ç›®å½•çš„ç¿»è¯‘æ–‡ä»¶

### 3. ç»„ä»¶ä¸é‡æ„æ¨¡æ¿
ğŸ‘‰ **æœ¬æŠ€èƒ½å·²é‡‡ç”¨ä¸‰å±‚æ¸è¿›å¼æŠ«éœ²ä¼˜åŒ–ï¼Œè¯¦ç»†ä»£ç å‚è§ `references/` ç›®å½•ï¼š**
- **[components.md](references/components.md)**: æ•°æ®è¡¨æ ¼ã€å¼¹çª—ã€è¡¨å•éªŒè¯ã€åŠ¨æ€ä¸‹æ‹‰ã€æ‰¹é‡æ“ä½œç­‰
- **[templates.md](references/templates.md)**: ç»Ÿè®¡æ±‡æ€»å—ã€è¯¦æƒ…å±•ç¤ºæ¨¡å¼ç­‰
- **[refactoring.md](references/refactoring.md)**: ä¸‰çº§é‡æ„ç­–ç•¥ï¼ˆLow/Medium/High Couplingï¼‰ã€ç»„ä»¶å¼€å‘è§„èŒƒ

## Quick Reference

| æŒ‡ä»¤ | ç”¨é€” |
|------|------|
| `/generate-page [type]` | ç”Ÿæˆé¡µé¢éª¨æ¶ (list/add/view) |
| `/generate-table [api]` | ç”Ÿæˆæ•°æ®è¡¨æ ¼ä»£ç  |
| `/generate-form [fields]` | ç”Ÿæˆè¡¨å• HTML |
| `/add-i18n [path]` | **æ·»åŠ å›½é™…åŒ– (å« JSON æ›´æ–°)** |
| `/extract-i18n [path]` | æå–å¹¶åŒæ­¥ç¿»è¯‘ |
| `/scan-hardcoded [path]` | æ‰«æç¡¬ç¼–ç ä¸­æ–‡ |
| `/validate-i18n [path]` | æ£€æŸ¥ç¿»è¯‘å®Œæ•´æ€§ |
| `/sync-skins` | åŒæ­¥æ‰€æœ‰çš®è‚¤ç¿»è¯‘ |
| `/fix-alignment` | æ³¨å…¥ CSS å¯¹é½ä¿®å¤ |
| `/refactor-ui [code]` | åˆ†æå¹¶æä¾›ä¸‰çº§é‡æ„æ–¹æ¡ˆ |

## ç›®å½•ç»“æ„
```
dtg-ui/
â”œâ”€â”€ SKILL.md                    # æ ¸å¿ƒæŠ€èƒ½å®šä¹‰ (ç²¾ç®€ç‰ˆï¼Œæ”¯æŒæ¸è¿›å¼æŠ«éœ²)
â”œâ”€â”€ README.md                   # æœ¬è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ extract-i18n.py         # i18n æå–è„šæœ¬
â”‚   â”œâ”€â”€ scan-hardcoded.py       # ç¡¬ç¼–ç æ‰«æè„šæœ¬
â”‚   â””â”€â”€ update-translations.py  # ç¿»è¯‘æ‰¹é‡æ›´æ–°è„šæœ¬
â”œâ”€â”€ references/                 # ä¸‰å±‚ç»“æ„ä¸­çš„â€œèµ„æºå±‚â€ï¼ŒæŒ‰éœ€è¯»å–
â”‚   â”œâ”€â”€ components.md           # [NEW] é«˜é¢‘ç»„ä»¶ä»£ç æ¨¡æ¿
â”‚   â”œâ”€â”€ templates.md            # [NEW] å¸¸ç”¨å‚è€ƒæ¨¡æ¿
â”‚   â”œâ”€â”€ refactoring.md          # [NEW] UI é‡æ„ä¸ç»„ä»¶åŒ–ç­–ç•¥
â”‚   â”œâ”€â”€ common-translations.md  # å¸¸ç”¨è¯åº“
â”‚   â”œâ”€â”€ layui-cheatsheet.md     # Layui API é€ŸæŸ¥
â”‚   â”œâ”€â”€ css-fixes.md            # CSS å¸¸è§é—®é¢˜ä¿®å¤
â”‚   â””â”€â”€ js-api-patterns.md      # API è°ƒç”¨æ¨¡å¼
â””â”€â”€ examples/
    â”œâ”€â”€ list-page-example.html  # åˆ—è¡¨é¡µç¤ºä¾‹
    â”œâ”€â”€ add-page-example.html   # æ–°å¢é¡µç¤ºä¾‹
    â”œâ”€â”€ view-page-example.html  # æŸ¥çœ‹é¡µç¤ºä¾‹
    â””â”€â”€ common-js-patterns.js   # é€šç”¨ JS æ¨¡å¼
```

## ä½¿ç”¨å»ºè®®
1. **ä¼˜å…ˆå‚è€ƒ SKILL.md**ï¼šå®ƒæ˜¯ AI å¤„ç†ä»»åŠ¡æ—¶çš„ä¸»è¦æŒ‡ä»¤æ¥æºã€‚
2. **ä¸‰å±‚ç»“æ„è¯´æ˜**ï¼š
   - **ç¬¬ä¸€å±‚ (å…ƒæ•°æ®)**ï¼šå®šä¹‰äº†æŠ€èƒ½çš„è§¦å‘æ—¶æœºã€‚
   - **ç¬¬äºŒå±‚ (SKILL.md)**ï¼šåŒ…å«æ ¸å¿ƒé€»è¾‘å’Œä»»åŠ¡æµç¨‹ã€‚
   - **ç¬¬ä¸‰å±‚ (references/)**ï¼šåŒ…å«åºå¤§çš„ä»£ç å—å’Œè¯¦ç»†å‚è€ƒï¼ŒAI ä»…åœ¨éœ€è¦æ—¶è¯»å–ï¼Œä»¥èŠ‚çœä¸Šä¸‹æ–‡ç©ºé—´ã€‚

## ç»´æŠ¤å»ºè®®
å½“ç»„ä»¶è§„èŒƒæˆ–é‡æ„ç­–ç•¥å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå»ºè®®æ›´æ–° `references/` ä¸‹å¯¹åº”çš„ `.md` æ–‡ä»¶ã€‚å¦‚æœæ¶‰åŠåˆ°æ ¸å¿ƒå·¥ä½œæµçš„å˜æ›´ï¼Œè¯·ä¿®æ”¹ `SKILL.md`ã€‚
