---
name: ai-coding-best-practices
description: AI 编码最佳实践技能。提供 AI 驱动开发的专业指导，帮助开发者最大化利用 Claude Code 工具的生产力。
version: 1.0.0
---

# AI 编码最佳实践技能

提供 AI 驱动开发的专业指导，帮助开发者最大化利用 Claude Code 等工具的生产力。

## 核心原则

### 1. 上下文管理
- 保持会话专注，避免上下文过载
- 使用专案注入功能建立项目上下文
- 将大型任务分解为可管理的子任务

### 2. 质量优先
- 始终要求代码审查
- 使用自动化测试和类型检查
- 遵循编码标准和最佳实践

### 3. 渐进式开发
- 从小规模验证开始
- 逐步增加复杂性
- 保持持续的反馈循环

## 工作流程模式

### 模式一：功能开发流程
1. **需求分析** - 使用 `/implement` 开始
2. **规模评估** - 自动确定所需文档
3. **设计阶段** - 创建设计文档（如需要）
4. **实现阶段** - 执行具体实现
5. **质量保证** - 自动测试和审查
6. **提交部署** - 清理提交

### 模式二：问题修复流程
1. **问题定位** - 使用 `/task` 精确定位
2. **根因分析** - 理解问题本质
3. **方案设计** - 制定修复策略
4. **实施修复** - 精确修改代码
5. **验证测试** - 确保修复有效

### 模式三：代码审查流程
1. **自动化检查** - 使用 `/review` 命令
2. **代码分析** - 检查代码结构和逻辑
3. **改进建议** - 提供优化建议

## 专案管理模式

### 初始化项目
使用 `/project-inject` 建立项目上下文：
- 项目类型和技术栈
- 团队规模和开发规范
- 质量标准和部署要求

### 文档驱动开发
- PRD（产品需求文档）用于大型功能
- ADR（架构决策记录）用于重要决策
- 设计文档用于中等规模功能

## Lombok 和 @SneakyThrows 最佳实践

### Lombok 优势
- **代码简化**：自动生成样板代码
- **可读性提升**：减少冗余代码
- **维护性增强**：减少手工错误
- **开发效率**：显著减少编写时间

### @SneakyThrows 使用原则

**推荐场景**：
- 预期的运行时异常（如网络超时、数据库连接失败）
- 可以安全向上传播的异常
- 在已经具备全局异常处理机制的系统中

**避免场景**：
- 需要特殊处理业务逻辑的异常
- 需要回滚事务的情况
- 可能导致系统状态不一致的异常

详细代码示例见 `references/lombok-examples.md`

### Lombok 配置文件优化

```properties
# lombok.config
config.stopBubbling = true
lombok.addLombokGeneratedAnnotation = true
lombok.builder.flagUsage = OK
lombok.sneakyThrows.flagUsage = OK
lombok.fieldDefaults.defaultPrivate = final
lombok.accessors.chain = true
```

## 质量保证策略

### 自动化检查
- 类型检查（Java 编译器）
- 单元测试（JUnit）

### 代码审查要点
- 功能正确性
- 性能考虑
- 安全性检查
- 可维护性评估

## 常见陷阱和解决方案

### 陷阱一：过度依赖 AI
**症状**: 不加验证地接受 AI 生成的代码
**解决方案**:
- 始终进行代码审查
- 运行测试验证
- 理解代码逻辑

### 陷阱二：上下文丢失
**症状**: 长会话后质量下降
**解决方案**:
- 使用专案注入重新建立上下文
- 将大任务分解为小任务
- 定期重启会话

### 陷阱三：缺乏验证
**症状**: 代码看似正确但隐藏错误
**解决方案**:
- 强制执行测试
- 使用类型检查器
- 进行边界条件测试

## 工具集成最佳实践

### 与现有工具链集成
- 保持与 Git 工作流的兼容
- 集成 CI/CD 管道

### 自定义配置
- 根据项目需求调整规则
- 配置专用的代码模板

## 团队协作指南

### 标准化流程
- 建立统一的开发工作流
- 使用相同的文档模板
- 制定代码审查标准

### 知识共享
- 记录最佳实践
- 分享有效的提示技巧
- 建立问题解决方案库

## 性能优化建议

### 开发效率
- 预配置常用模板
- 使用快捷命令
- 建立代码片段库

### 代码维护
- 定期重构代码
- 保持代码整洁性

## 使用技巧

### 提示工程
- 具体化需求描述
- 提供上下文信息
- 明确输出格式要求

### 迭代改进
- 从简单版本开始
- 逐步增加复杂性
- 保持持续反馈

### 验证和测试
- 每个步骤都进行验证
- 使用自动化测试
- 进行人工审查
