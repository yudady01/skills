---
name: local:create-plan
description: 创建简洁的计划。当用户明确要求与编码任务相关的计划时使用。
metadata:
  short-description: 创建计划
---

# 创建计划

## 目标

将用户提示转换为在最终助手消息中交付的**单个可执行计划**。

## 最小工作流程

在整个工作流程中，以只读模式操作。不要写入或更新文件。

1. **快速扫描上下文**
   - 阅读 `README.md` 和任何明显的文档（`docs/`、`CONTRIBUTING.md`、`ARCHITECTURE.md`）。
   - 浏览相关文件（最可能涉及的文件）。
   - 识别约束（语言、框架、CI/测试命令、部署形式）。

2. **仅在受阻时提出后续问题**
   - 最多提出 **1-2 个问题**。
   - 只有在无法负责任地制定计划时才提问；优先使用多选题。
   - 如果不确定但未被阻塞，做出合理假设并继续。

3. **使用下面的模板创建计划**
   - 以 **1 个短段落** 开始，描述意图和方法。
   - 简要明确指出**范围内**和**范围外**的内容。
   - 然后提供**小型检查清单**（默认 6-10 项）。
      - 每个检查清单项目都应该是具体的操作，并在有帮助时提及文件/命令。
      - **使项目原子化和有序化**：发现 → 更改 → 测试 → 部署。
      - **动词优先**："添加..."、"重构..."、"验证..."、"发布..."。
   - 至少包含一个**测试/验证**项目和一个**边缘情况/风险**项目（如适用）。
   - 如果存在未知因素，包含一个小的**待解决问题**部分（最多 3 个）。

4. **不要用元解释作为计划的前言；仅按模板输出计划**

## 计划模板（严格遵循）

```markdown
# 计划

<1-3 句话：我们要做什么、为什么以及高层方法。>

## 范围
- 内：
- 外：

## 行动项
[ ] <步骤 1>
[ ] <步骤 2>
[ ] <步骤 3>
[ ] <步骤 4>
[ ] <步骤 5>
[ ] <步骤 6>

## 待解决问题
- <问题 1>
- <问题 2>
- <问题 3>
```

## 检查清单项目指导
良好的检查清单项目：
- 指向可能的文件/模块：src/...、app/...、services/...
- 命名具体的验证方式："运行 npm test"、"为 X 添加单元测试"
- 在相关时包含安全部署：功能标志、迁移计划、回滚说明

避免：
- 模糊的步骤（"处理后端"、"做认证"）
- 过多的微步骤
- 编写代码片段（保持计划与实现无关）
