{
  "description": "Claude Code Hooks 完整示例配置",

  "SessionStart": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【SessionStart Hook】新会话已启动！请在回复的开头热情地欢迎用户，并询问今天想要完成什么任务。"
        }
      ]
    }
  ],

  "PreToolUse": [
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PreToolUse-Bash Hook】即将执行 Bash 命令。请先分析命令安全性，如果涉及：\n1. 删除操作 (rm, rmdir)\n2. 系统修改 (chmod, chown)\n3. 网络操作 (curl, wget)\n4. 数据库操作\n请先向用户确认！"
        }
      ]
    },
    {
      "matcher": "Write|Edit",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PreToolUse-Write Hook】即将修改文件。请确认：\n1. 文件路径是否正确\n2. 修改内容是否准确\n3. 是否已备份原文件"
        }
      ]
    },
    {
      "matcher": "!Read",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PreToolUse Hook】正在使用工具（非Read）。请在工具调用前输出：🔧 工具调用中..."
        }
      ]
    }
  ],

  "PostToolUse": [
    {
      "matcher": "Bash",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PostToolUse-Bash Hook】Bash 命令执行完成。请分析返回结果：\n1. 命令是否成功（退出码）\n2. 输出内容是否符合预期\n3. 是否有错误或警告信息\n如有问题，请提出解决方案。"
        }
      ]
    },
    {
      "matcher": "Read|Write|Edit",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PostToolUse-File Hook】文件操作完成。请在回复中说明：\n1. 操作了哪个文件\n2. 做了什么修改\n3. 为什么需要这样修改"
        }
      ]
    },
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PostToolUse Hook】工具调用完成。请输出：✅ 工具执行完成"
        }
      ]
    }
  ],

  "UserPromptSubmit": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【UserPromptSubmit Hook】用户提交了新的输入。请在理解用户意图时考虑：\n1. 用户的核心需求是什么\n2. 是否需要澄清不明确的地方\n3. 这个任务是否需要使用 EnterPlanMode 进行规划"
        }
      ]
    }
  ],

  "Stop": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【Stop Hook】会话即将结束。请向用户道别，并建议：\n1. 是否需要创建 git commit\n2. 是否需要保存当前工作状态\n3. 下次会话可以继续什么工作"
        }
      ]
    }
  ],

  "SubagentStop": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【SubagentStop Hook】子 Agent 已完成任务。请检查：\n1. 子 Agent 的输出是否完整\n2. 是否需要进一步处理结果\n3. 是否需要向用户汇报子 Agent 的工作"
        }
      ]
    }
  ],

  "PreCompact": [
    {
      "matcher": "*",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "【PreCompact Hook】对话即将被压缩。请确保：\n1. 重要的上下文信息已保存\n2. 关键的决策和结论已记录\n3. 未完成的任务已列入待办"
        }
      ]
    }
  ]
}
