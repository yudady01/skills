# æŠ€èƒ½åˆ—è¡¨ç®¡ç†å™¨ - é”™è¯¯ä¿®å¤åŠŸèƒ½

## æ¦‚è¿°

ä¸ºæŠ€èƒ½åˆ—è¡¨ç®¡ç†å™¨æ·»åŠ äº†å®Œæ•´çš„é”™è¯¯æ£€æµ‹å’Œä¿®å¤åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨è¯†åˆ«å’Œè§£å†³æ’ä»¶ç”Ÿæ€ç³»ç»Ÿä¸­çš„å¸¸è§é—®é¢˜ã€‚

## ğŸ¯ è§£å†³çš„é—®é¢˜

### åŸå§‹é—®é¢˜
```
âœ˜ thirdpartyPayChannel@yudady-skills
   Plugin 'thirdpartyPayChannel' not found in marketplace 'yudady-skills'
```

### æ ¹æœ¬åŸå› 
- ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨äº†é©¼å³°å¼å‘½å `thirdpartyPayChannel`
- å®é™…ç›®å½•åæ˜¯è¿å­—ç¬¦å¼å‘½å `thirdparty-pay-channel`
- å‘½åä¸ä¸€è‡´å¯¼è‡´æ’ä»¶æ— æ³•æ­£ç¡®åŠ è½½

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. å‘½ä»¤æ–‡ä»¶
- **`commands/skill-fix.md`** - é”™è¯¯ä¿®å¤å‘½ä»¤
  - æ”¯æŒè‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤
  - æä¾› `--auto-fix` å’Œ `--dry-run` é€‰é¡¹
  - æ”¯æŒæŒ‰é”™è¯¯ç±»å‹å’Œæ’ä»¶åç§°è¿‡æ»¤

### 2. å·¥å…·è„šæœ¬
- **`scripts/fix_errors.py`** - åŸºç¡€é”™è¯¯ä¿®å¤å·¥å…·
  - JSON è¯­æ³•ä¿®å¤
  - æ’ä»¶é…ç½®é”™è¯¯ä¿®å¤
  - è·¯å¾„é—®é¢˜ä¿®å¤
  - è‡ªåŠ¨å¤‡ä»½åŠŸèƒ½

- **`scripts/system_compatibility.py`** - ç³»ç»Ÿå…¼å®¹æ€§æ£€æŸ¥
  - å‘½åä¸€è‡´æ€§æ£€æŸ¥
  - é…ç½®æ–‡ä»¶å‘½åè§„èŒƒæ£€æŸ¥
  - æ’ä»¶æ³¨å†ŒçŠ¶æ€éªŒè¯
  - è¯¦ç»†çš„å…¼å®¹æ€§æŠ¥å‘Š

- **`scripts/integrated_fix.py`** - é›†æˆä¿®å¤å·¥å…·
  - ç»“åˆåŸºç¡€ä¿®å¤å’Œå…¼å®¹æ€§æ£€æŸ¥
  - åŒ…å« settings.json ä¿®å¤åŠŸèƒ½
  - ç»¼åˆé”™è¯¯æŠ¥å‘Š
  - æ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼

- **`scripts/settings_fix.py`** - Settings.json ä¸“ç”¨ä¿®å¤å·¥å…·
  - ä¸“é—¨å¤„ç† `~/.claude/settings.json` é—®é¢˜
  - æ™ºèƒ½æ’ä»¶åç§°åŒ¹é…
  - è‡ªåŠ¨å¤‡ä»½å’ŒéªŒè¯

## ğŸ”§ æ”¯æŒçš„é”™è¯¯ç±»å‹

### 1. é…ç½®é”™è¯¯ (config-error)
- JSON è¯­æ³•é”™è¯¯
- ç¼ºå¤±å¿…éœ€å­—æ®µ
- æ•°æ®ç±»å‹é”™è¯¯
- ç‰ˆæœ¬ä¿¡æ¯ä¸ä¸€è‡´

### 2. è·¯å¾„é”™è¯¯ (path-error)
- æ’ä»¶æºè·¯å¾„ä¸å­˜åœ¨
- ç›¸å¯¹è·¯å¾„æ ¼å¼é”™è¯¯
- ç›®å½•ç»“æ„ä¸å®Œæ•´

### 3. åç§°ä¸åŒ¹é… (name-mismatch)
- CamelCase vs kebab-case ä¸ä¸€è‡´
- marketplace.json ä¸ç›®å½•åä¸åŒ¹é…
- æ’ä»¶é…ç½®ä¸å®é™…å‘½åä¸ç¬¦

### 4. é…ç½®æ–‡ä»¶å‘½åé”™è¯¯ (configuration)
- ä½¿ç”¨ `plugin.json` è€Œéæ ‡å‡† `marketplace.json`
- é…ç½®æ–‡ä»¶ä½ç½®é”™è¯¯
- é…ç½®æ ¼å¼ä¸ç»Ÿä¸€

### 5. ç³»ç»Ÿè®¾ç½®é”™è¯¯ (settings)
- `~/.claude/settings.json` ä¸­æ’ä»¶åç§°ä¸åŒ¹é…
- é©¼å³°å¼ vs kebab-case å‘½åä¸ä¸€è‡´
- æ’ä»¶çŠ¶æ€é…ç½®é”™è¯¯
- ç¼ºå¤±æ’ä»¶çš„å¯ç”¨çŠ¶æ€

## ğŸ’¡ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä½¿ç”¨
```bash
# æ£€æµ‹æ‰€æœ‰é”™è¯¯
/skill-fix

# é¢„è§ˆä¿®å¤æ“ä½œ
/skill-fix --dry-run

# è‡ªåŠ¨ä¿®å¤æ‰€æœ‰é”™è¯¯
/skill-fix --auto-fix
```

### é«˜çº§ä½¿ç”¨
```bash
# ä¿®å¤ç‰¹å®šç±»å‹é”™è¯¯
/skill-fix --error-type name-mismatch --auto-fix

# ä¿®å¤ç‰¹å®šæ’ä»¶é—®é¢˜
/skill-fix --plugin-name thirdpartyPayChannel --auto-fix

# ä½¿ç”¨é›†æˆå·¥å…·ï¼ˆæ¨èï¼‰
python3 plugins/skill-list-manager/scripts/integrated_fix.py --auto-fix
```

### ç³»ç»Ÿè®¾ç½®ä¿®å¤
```bash
# æ£€æµ‹è®¾ç½®æ–‡ä»¶é—®é¢˜
/settings-fix

# é¢„è§ˆä¿®å¤æ“ä½œ
/settings-fix --dry-run

# è‡ªåŠ¨ä¿®å¤è®¾ç½®é—®é¢˜
/settings-fix --auto-fix

# ä¸“ç”¨å·¥å…·
python3 plugins/skill-list-manager/scripts/settings_fix.py --auto-fix
```

### ç³»ç»Ÿå…¼å®¹æ€§æ£€æŸ¥
```bash
# è¿è¡Œå…¼å®¹æ€§æ£€æŸ¥
python3 plugins/skill-list-manager/scripts/system_compatibility.py

# JSON æ ¼å¼è¾“å‡º
python3 plugins/skill-list-manager/scripts/system_compatibility.py --format json
```

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### è‡ªåŠ¨å¤‡ä»½
- ä¿®å¤å‰è‡ªåŠ¨åˆ›å»ºå¤‡ä»½
- æŒ‰æ—¶é—´æˆ³å‘½åå¤‡ä»½æ–‡ä»¶
- æ”¯æŒä¸€é”®å›æ»š

### é¢„è§ˆæ¨¡å¼
- `--dry-run` é€‰é¡¹å¯é¢„è§ˆä¿®å¤æ“ä½œ
- ä¸ä¼šå®é™…ä¿®æ”¹ä»»ä½•æ–‡ä»¶
- æ˜¾ç¤ºè¯¦ç»†çš„ä¿®å¤è®¡åˆ’

### éªŒè¯æœºåˆ¶
- ä¿®å¤åè‡ªåŠ¨éªŒè¯ç»“æœ
- ç¡®ä¿ä¸å¼•å…¥æ–°é”™è¯¯
- ç»´æŠ¤é…ç½®ä¸€è‡´æ€§

## ğŸ“Š ç¤ºä¾‹è¾“å‡º

### é”™è¯¯æ£€æµ‹æŠ¥å‘Š
```
ğŸ” é”™è¯¯æ£€æµ‹å®Œæˆ - å‘ç° 2 ä¸ªé—®é¢˜

âŒ é…ç½®é”™è¯¯ (1):
   - plugin-name
     é—®é¢˜: ç¼ºå¤± version å­—æ®µ
     çŠ¶æ€: å¯è‡ªåŠ¨ä¿®å¤

âš ï¸ åç§°ä¸åŒ¹é… (1):
   - thirdpartyPayChannel â†’ thirdparty-pay-channel
     é—®é¢˜: æ’ä»¶åç§°ä¸ç¬¦åˆ kebab-case è§„èŒƒ
     çŠ¶æ€: å¯è‡ªåŠ¨ä¿®å¤
```

### ä¿®å¤ç»“æœæŠ¥å‘Š
```
ğŸ”§ ä¿®å¤æ“ä½œå®Œæˆ - å…±ä¿®å¤ 2 ä¸ªé—®é¢˜
   âœ… æˆåŠŸ: 2
   âŒ å¤±è´¥: 0
   â³ å¾…å¤„ç†: 0

âœ… å·²ä¸ºæ’ä»¶ plugin-name æ·»åŠ å­—æ®µ version: 1.0.0
âœ… å·²ä¿®å¤æ’ä»¶åç§°: thirdpartyPayChannel â†’ thirdparty-pay-channel

ğŸ“‹ å»ºè®®:
   - é‡å¯ Claude Code ä»¥é‡æ–°åŠ è½½æ’ä»¶
   - è¿è¡Œ /plugin å‘½ä»¤éªŒè¯ä¿®å¤ç»“æœ
```

## ğŸ”„ ä¿®å¤çš„å…·ä½“é—®é¢˜

### å·²ä¿®å¤: é…ç½®æ–‡ä»¶å‘½åä¸ä¸€è‡´
**é—®é¢˜**: `skill-list-manager` ä½¿ç”¨äº† `plugin.json` è€Œéæ ‡å‡† `marketplace.json`
**è§£å†³**: é‡å‘½åé…ç½®æ–‡ä»¶å¹¶ç®€åŒ–å†…å®¹ä¸ºæ ‡å‡†æ ¼å¼

### å·²ä¿®å¤: ç³»ç»Ÿå…¼å®¹æ€§æ£€æŸ¥å¢å¼º
**æ–°å¢**: èƒ½å¤Ÿæ£€æµ‹é…ç½®æ–‡ä»¶å‘½åé”™è¯¯
**æ–°å¢**: é›†æˆåˆ°è‡ªåŠ¨ä¿®å¤æµç¨‹ä¸­
**æ–°å¢**: æä¾›è¯¦ç»†çš„ä¿®å¤å»ºè®®

### å·²ä¿®å¤: Settings.json æ’ä»¶åç§°ä¸åŒ¹é…
**åŸå§‹é—®é¢˜**:
```
âœ˜ thirdpartyPayChannel@yudady-skills
   Plugin 'thirdpartyPayChannel' not found in marketplace 'yudady-skills'
```

**æ ¹æœ¬åŸå› åˆ†æ**:
- **é”™è¯¯ä½ç½®**: `~/.claude/settings.json` ç¬¬36è¡Œ
- **é”™è¯¯åç§°**: `thirdpartyPayChannel` (é©¼å³°å¼)
- **æ­£ç¡®åç§°**: `thirdparty-pay-channel` (kebab-case)
- **å½±å“èŒƒå›´**: æ’ä»¶æ— æ³•æ­£å¸¸åŠ è½½

**è§£å†³æ–¹æ¡ˆ**:
1. **è‡ªåŠ¨æ£€æµ‹**: æ™ºèƒ½è¯†åˆ« settings.json ä¸­çš„æ’ä»¶åç§°ä¸åŒ¹é…
2. **æ™ºèƒ½åŒ¹é…**: æ”¯æŒå¤šç§å‘½åæ ¼å¼çš„è‡ªåŠ¨è½¬æ¢
3. **å®‰å…¨ä¿®å¤**: è‡ªåŠ¨å¤‡ä»½å’ŒéªŒè¯ä¿®å¤ç»“æœ

**ä¿®å¤ç»“æœ**:
```json
// ä¿®å¤å‰ (é”™è¯¯)
{
  "enabledPlugins": {
    "thirdpartyPayChannel@yudady-skills": true  // âŒ é©¼å³°å¼
  }
}

// ä¿®å¤å (æ­£ç¡®)
{
  "enabledPlugins": {
    "thirdparty-pay-channel@yudady-skills": true  // âœ… kebab-case
  }
}
```

## ğŸš€ æœªæ¥æ‰©å±•

### è®¡åˆ’ä¸­çš„åŠŸèƒ½
- æ”¯æŒæ›´å¤šé”™è¯¯ç±»å‹æ£€æµ‹
- æ‰¹é‡æ“ä½œå’Œå¹¶è¡Œå¤„ç†
- è‡ªå®šä¹‰ä¿®å¤è§„åˆ™é…ç½®
- GUI ç•Œé¢æ”¯æŒ
- æ’ä»¶å¥åº·è¯„åˆ†ç³»ç»Ÿ

### æ‰©å±•ç‚¹
- é”™è¯¯æ£€æµ‹å™¨æ’ä»¶åŒ–
- è‡ªå®šä¹‰ä¿®å¤ç­–ç•¥
- ç¬¬ä¸‰æ–¹å·¥å…·é›†æˆ
- ç›‘æ§å’ŒæŠ¥å‘ŠåŠŸèƒ½

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **`commands/skill-fix.md`** - è¯¦ç»†çš„å‘½ä»¤æ–‡æ¡£
- **`commands/skill-validate.md`** - æŠ€èƒ½éªŒè¯å‘½ä»¤
- **`commands/skill-list-enhanced.md`** - å¢å¼ºåˆ—è¡¨å‘½ä»¤
- **`skills/skill-management/SKILL.md`** - æŠ€èƒ½ç®¡ç†æŒ‡å—

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æ·»åŠ æ–°çš„é”™è¯¯ç±»å‹
1. åœ¨ç›¸åº”çš„è„šæœ¬ä¸­æ·»åŠ æ£€æµ‹é€»è¾‘
2. å®ç°ä¿®å¤æ–¹æ³•
3. æ›´æ–°æ–‡æ¡£å’Œæµ‹è¯•
4. ç¡®ä¿å‘åå…¼å®¹æ€§

### æµ‹è¯•ä¿®å¤åŠŸèƒ½
```bash
# é¢„è§ˆæ¨¡å¼æµ‹è¯•
python3 plugins/skill-list-manager/scripts/integrated_fix.py --dry-run

# å…¼å®¹æ€§æ£€æŸ¥
python3 plugins/skill-list-manager/scripts/system_compatibility.py

# åŸºç¡€é”™è¯¯æ£€æŸ¥
python3 plugins/skill-list-manager/scripts/fix_errors.py
```

---

**æ³¨æ„**: ä½¿ç”¨è‡ªåŠ¨ä¿®å¤åŠŸèƒ½å‰ï¼Œå»ºè®®å…ˆè¿è¡Œ `--dry-run` é¢„è§ˆæ“ä½œï¼Œå¹¶æ‰‹åŠ¨å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶ã€‚